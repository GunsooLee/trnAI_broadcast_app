# 방송 편성 추천 API 결과 필드 설명서 (현업용)

> 이 문서는 API 응답 결과의 각 필드가 무엇을 의미하는지 현업 담당자(PD, 기획자)가 이해할 수 있도록 작성되었습니다.

---

## 📋 목차
1. [요청 파라미터 설명](#1-요청-파라미터-설명)
2. [응답 구조 전체 개요](#2-응답-구조-전체-개요)
3. [추천 상품 상세 설명](#3-추천-상품-상세-설명)
4. [네이버 베스트 상품 설명](#4-네이버-베스트-상품-설명)
5. [경쟁사 편성 상품 설명](#5-경쟁사-편성-상품-설명)

---

## 1. 요청 파라미터 설명

API를 호출할 때 입력하는 값들입니다.

| 필드명 | 한글명 | 설명 | 예시 |
|--------|--------|------|------|
| `broadcastTime` | 방송 시간 | 추천받고자 하는 방송 시간대 | `"2025-11-11T22:00:00+09:00"` |
| `recommendationCount` | 추천 개수 | 몇 개의 상품을 추천받을지 | `5` (기본값) |
| `trendWeight` | 트렌드 가중치 | 트렌드를 얼마나 반영할지 (0.0~1.0) | `0.3` (30%) |
| `sellingWeight` | 매출 가중치 | 매출 예측을 얼마나 반영할지 (0.0~1.0) | `0.7` (70%) |

**💡 가중치 설정 팁:**
- 트렌드 중심: `trendWeight=0.7, sellingWeight=0.3` → 화제성 있는 상품 우선
- 매출 중심: `trendWeight=0.3, sellingWeight=0.7` → 수익성 높은 상품 우선
- 균형: `trendWeight=0.5, sellingWeight=0.5` → 트렌드와 매출 균형
- ⚠️ 두 가중치의 합은 반드시 1.0이어야 합니다.

---

## 2. 응답 구조 전체 개요

```json
{
  "requestTime": "2025-11-11T22:00:00+09:00",
  "recommendations": [...],
  "naverProducts": [...],
  "competitorProducts": [...]
}
```

| 필드명 | 한글명 | 설명 |
|--------|--------|------|
| `requestTime` | 요청 시간 | API를 호출한 시간 |
| `recommendations` | 추천 상품 목록 | AI가 추천한 자사 상품 목록 (최대 5개) |
| `naverProducts` | 네이버 베스트 상품 | 네이버 쇼핑 인기 상품 TOP 10 |
| `competitorProducts` | 경쟁사 편성 상품 | 타 홈쇼핑사의 편성 정보 (최대 10개) |

---

## 3. 추천 상품 상세 설명

### 3.1 전체 구조

```json
{
  "rank": 1,
  "productInfo": {...},
  "reasoning": {...},
  "businessMetrics": {...}
}
```

### 3.2 기본 정보 (`productInfo`)

| 필드명 | 한글명 | 설명 | 예시 |
|--------|--------|------|------|
| `productId` | 상품 코드 | 상품의 고유 식별 번호 | `"11388995"` |
| `productName` | 상품명 | 상품의 전체 이름 | `"프리미엄 다이어트 보조제"` |
| `category` | 카테고리 | 상품의 대분류 카테고리 | `"건강식품"` |
| `brand` | 브랜드 | 상품 브랜드명 (있는 경우) | `"해피콜"` |
| `price` | 가격 | 상품 판매 가격 (원) | `99000` |
| `tapeCode` | 방송테이프 코드 | 방송테이프 식별 코드 | `"T001"` |
| `tapeName` | 방송테이프명 | 방송테이프 제목 | `"프리미엄 다이어트 보조제 방송테이프"` |

**💡 활용 팁:**
- `tapeCode`가 있으면 방송테이프가 준비되어 있어 즉시 방송 가능
- `tapeCode`가 없으면 방송테이프 제작이 필요

---

### 3.3 추천 근거 (`reasoning`)

| 필드명 | 한글명 | 설명 | 예시 |
|--------|--------|------|------|
| `summary` | 추천 이유 | AI가 생성한 추천 근거 (50자 이내) | `"'다이어트' 트렌드 급상승 반영, 저녁 시간대 최적"` |

**💡 추천 근거 유형:**
- 트렌드 기반: `"'○○○' 검색량 급증으로 높은 관심도 예상"`
- 매출 기반: `"높은 매출 예측, 안정적 수익 기대"`
- 시간대 기반: `"저녁 시간대 최적 상품"`
- 방송테이프: `"방송테이프 준비 완료"`

---

### 3.4 비즈니스 지표 (`businessMetrics`)

#### 3.4.1 AI 예측 매출

| 필드명 | 한글명 | 설명 | 예시 |
|--------|--------|------|------|
| `aiPredictedSales` | AI 예측 매출 | XGBoost 모델이 예측한 매출액 | `"850.0만원"` |

**💡 해석 방법:**
- XGBoost AI 모델이 과거 방송 데이터를 학습하여 예측한 값
- 실제 매출과 차이가 있을 수 있으며, 참고 지표로 활용
- 높을수록 수익성이 좋을 것으로 예상

---

#### 3.4.2 최근 방송 실적 (`lastBroadcast`)

**⚠️ 주의:** 이 필드는 해당 상품(방송테이프)의 최근 방송 이력이 있을 때만 표시됩니다.

| 필드명 | 한글명 | 설명 | 단위 |
|--------|--------|------|------|
| `broadcastStartTime` | 방송 시작 일시 | 가장 최근 방송한 날짜와 시간 | ISO 8601 형식 |
| `orderQuantity` | 주문 수량 | 실제 주문된 개수 | 개 |
| `totalProfit` | 매출총이익 | 실제 발생한 매출 이익 | 원 |
| `profitEfficiency` | ONAIR 매출총이익 (효율) | 방송 시간 대비 효율성 지표 | - |
| `conversionWorth` | 환산가치값 (분리송출) | 분리송출 환산 가치 | - |
| `conversionRate` | 적용 전환율 | 시청자 → 구매자 전환율 | % |
| `realFee` | 실질 수수료 | 실제 적용된 수수료 | - |
| `mixFee` | 혼합 수수료 | 혼합 수수료 | - |

**💡 활용 방법:**
- **AI 예측 vs 실제 실적 비교**: AI 예측 매출과 `totalProfit`을 비교하여 AI 정확도 확인
- **재방송 판단**: 최근 실적이 좋았다면 재방송 고려
- **전환율 분석**: `conversionRate`가 높으면 시청자의 구매 의향이 높았던 상품

**예시:**
```json
{
  "aiPredictedSales": "850.0만원",
  "lastBroadcast": {
    "broadcastStartTime": "2025-10-15T22:00:00+09:00",
    "orderQuantity": 1250,
    "totalProfit": 8500000,
    "profitEfficiency": 0.85,
    "conversionWorth": 12000000,
    "conversionRate": 3.5,
    "realFee": 0.15,
    "mixFee": 0.12
  }
}
```

---

## 4. 네이버 베스트 상품 설명

네이버 쇼핑에서 현재 인기 있는 상품 TOP 10을 보여줍니다.

### 4.1 주요 필드

| 필드명 | 한글명 | 설명 | 예시 |
|--------|--------|------|------|
| `product_id` | 상품 ID | 네이버 상품 고유 번호 | `"12345678"` |
| `name` | 상품명 | 네이버에 등록된 상품명 | `"무선 이어폰 블루투스 5.0"` |
| `rank` | 순위 | 현재 인기 순위 | `1` |
| `rank_change` | 순위 변동 | 이전 대비 순위 변화 | `2` (2단계 상승) |
| `rank_change_text` | 순위 변동 텍스트 | 순위 변동 표시 | `"↑2"`, `"↓3"`, `"신규"`, `"-"` |
| `sale_price` | 정가 | 원래 판매 가격 | `59000` |
| `discounted_price` | 할인가 | 할인 적용 후 가격 | `39000` |
| `discount_ratio` | 할인율 | 할인 비율 | `33` (33%) |
| `is_delivery_free` | 무료배송 여부 | 무료배송 가능 여부 | `true` / `false` |
| `delivery_fee` | 배송비 | 배송비 금액 | `0` (무료) 또는 `3000` |
| `cumulation_sale_count` | 누적 판매량 | 총 판매된 개수 | `15234` |
| `review_count` | 리뷰 수 | 작성된 리뷰 개수 | `523` |
| `review_score` | 리뷰 평점 | 평균 별점 | `4.5` (5점 만점) |
| `image_url` | 이미지 URL | 상품 이미지 주소 | `"https://..."` |
| `landing_url` | 상품 페이지 URL | 네이버 상품 페이지 링크 | `"https://..."` |

### 4.2 순위 변동 해석

| 표시 | 의미 |
|------|------|
| `"↑2"` | 이전 대비 2단계 상승 |
| `"↓3"` | 이전 대비 3단계 하락 |
| `"신규"` | 새로 진입한 상품 |
| `"-"` | 순위 변동 없음 |

**💡 활용 팁:**
- 급상승 상품(`"↑"` 많은 숫자): 트렌드 반영 상품으로 주목
- 신규 진입 상품: 새로운 수요 발생 가능성
- 누적 판매량 높은 상품: 검증된 인기 상품

---

## 5. 경쟁사 편성 상품 설명

타 홈쇼핑사의 방송 편성 정보를 보여줍니다.

**⚠️ 현재 상태:**
- 크롤링 서버에서 데이터를 수집 중이며, 현재는 빈 배열(`[]`)로 표시됩니다.
- 향후 데이터가 수집되면 최대 10개의 경쟁사 편성 정보가 표시될 예정입니다.

**💡 향후 활용 방안:**
- 경쟁사가 어떤 상품을 편성했는지 확인
- 중복 편성 회피 또는 경쟁 전략 수립
- 시간대별 경쟁 강도 파악

---

## 6. 실제 응답 예시

### 6.1 간단한 예시

```json
{
  "requestTime": "2025-11-11T22:00:00+09:00",
  "recommendations": [
    {
      "rank": 1,
      "productInfo": {
        "productId": "11388995",
        "productName": "프리미엄 다이어트 보조제",
        "category": "건강식품",
        "brand": "헬스케어",
        "price": 99000,
        "tapeCode": "T001",
        "tapeName": "프리미엄 다이어트 보조제 방송테이프"
      },
      "reasoning": {
        "summary": "'다이어트' 트렌드 급상승 반영, 저녁 시간대 최적"
      },
      "businessMetrics": {
        "aiPredictedSales": "850.0만원",
        "lastBroadcast": {
          "broadcastStartTime": "2025-10-15T22:00:00+09:00",
          "orderQuantity": 1250,
          "totalProfit": 8500000,
          "profitEfficiency": 0.85,
          "conversionWorth": 12000000,
          "conversionRate": 3.5,
          "realFee": 0.15,
          "mixFee": 0.12
        }
      }
    }
  ],
  "naverProducts": [
    {
      "product_id": "12345678",
      "name": "무선 이어폰 블루투스 5.0",
      "rank": 1,
      "rank_change": 2,
      "rank_change_text": "↑2",
      "sale_price": 59000,
      "discounted_price": 39000,
      "discount_ratio": 33,
      "is_delivery_free": true,
      "delivery_fee": 0,
      "cumulation_sale_count": 15234,
      "review_count": 523,
      "review_score": 4.5,
      "image_url": "https://...",
      "landing_url": "https://..."
    }
  ],
  "competitorProducts": []
}
```

---

## 7. 자주 묻는 질문 (FAQ)

### Q1. AI 예측 매출은 얼마나 정확한가요?
- XGBoost 모델이 과거 방송 데이터를 학습하여 예측한 값입니다.
- 실제 매출과 차이가 있을 수 있으며, **참고 지표**로 활용하시기 바랍니다.
- `lastBroadcast` 데이터가 있다면 AI 예측과 실제 매출을 비교해볼 수 있습니다.

### Q2. `lastBroadcast`가 없는 상품은 무엇인가요?
- 해당 상품(방송테이프)의 최근 방송 이력이 없는 경우입니다.
- 신규 상품이거나 오랜 기간 방송하지 않은 상품일 수 있습니다.

### Q3. 네이버 베스트 상품은 어떻게 활용하나요?
- 현재 시장에서 인기 있는 상품 트렌드를 파악할 수 있습니다.
- 유사한 카테고리의 자사 상품 편성 시 참고 자료로 활용하세요.
- 급상승 상품(`"↑"` 표시)은 특히 주목할 필요가 있습니다.

### Q4. 가중치를 어떻게 설정해야 하나요?
- **트렌드 중심 (0.7 / 0.3)**: 화제성, 시의성이 중요한 시간대
- **매출 중심 (0.3 / 0.7)**: 안정적인 수익이 중요한 시간대
- **균형 (0.5 / 0.5)**: 트렌드와 매출을 모두 고려

### Q5. 추천 개수는 몇 개가 적당한가요?
- 기본값은 5개이며, 1~10개 사이에서 설정 가능합니다.
- 방송 시간대의 공백 슬롯 개수에 맞춰 설정하시면 됩니다.

---

## 8. 문의 및 지원

API 사용 중 문의사항이 있으시면 개발팀에 연락 주시기 바랍니다.

- 📧 이메일: [개발팀 이메일]
- 📞 전화: [개발팀 전화번호]
- 📁 기술 문서: `/docs/FRONTEND_API_GUIDE.md` (개발자용)
